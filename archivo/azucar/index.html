
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Reacciones GM</title>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<div id="wrap">
		<div class="tc wf love count4_pos1" style="margin-top:232px"><span class="counter">0</span></div><div class="tc wf haha count4_pos2" style="margin-top:232px"><span class="counter">0</span></div><div class="tc wf shock count4_pos3" style="margin-top:232px"><span class="counter">0</span></div><div class="tc wf sad count4_pos4" style="margin-top:232px"><span class="counter">0</span></div><div class="emoji love count4_pos1" style="margin-top:152px"><img src="emojis/love.png"></div><div class="emoji haha count4_pos2" style="margin-top:152px"><img src="emojis/haha.png"></div><div class="emoji shock count4_pos3" style="margin-top:152px"><img src="emojis/shock.png"></div><div class="emoji sad count4_pos4" style="margin-top:152px"><img src="emojis/sad.png"></div>
	</div>
	<script src="jquery.min.js"></script>
	<script src="lodash.min.js"></script>
	<script>
		"use strict";
		var access_token = "368984893278369|J1R7EYA1zxzCyI-rIpYD2lq0Tsw";
		var postID = "949617175173797"; 
		var refreshTime = 5;
		var defaultCount = 0;

		var reactions = ["LIKE", "LOVE", "WOW", "HAHA", "SAD", "ANGRY"].map(function (e) {
			var code = "reactions_" + e.toLowerCase();
			return "reactions.type(" + e + ").limit(0).summary(total_count).as(" + code + ")"
		}).join(",");

		var	v1 = $(".likes .counter"),
		v2 = $(".love .counter"),
		v3 = $(".sad .counter"),
		v4 = $(".haha .counter"),
		v5 = $(".angry .counter"),
		v6 = $(".shock .counter");

		function refreshCounts() {
			var url = "https://graph.facebook.com/v2.8/?ids=" + postID + "&fields=" + reactions + "&access_token=" + access_token;
			$.getJSON(url, function(res){
				v1.text(defaultCount + res[postID].reactions_like.summary.total_count);
				v2.text(defaultCount + res[postID].reactions_love.summary.total_count);
				v3.text(defaultCount + res[postID].reactions_sad.summary.total_count);
				v4.text(defaultCount + res[postID].reactions_haha.summary.total_count);
				v5.text(defaultCount + res[postID].reactions_angry.summary.total_count);
				v6.text(defaultCount + res[postID].reactions_wow.summary.total_count);
			});
		}

		$(document).ready(function(){
			setInterval(refreshCounts, refreshTime * 1000);
			refreshCounts();
		});
	</script>
</body>
</html>

						